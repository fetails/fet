<!DOCTYPE html>
<html>
    <head>
        <title>Achi</title>
    </head>
    <body>
        <canvas id="mycanvas"></canvas>
        <style type="text/css">
            body {
                margin:0;
                padding:0;
            }
            canvas {
                width:100vw;
                height:100vh;
                display:block;
            }
        </style>
        <script src="vendor/datgui/dat.gui.min.js"></script>
        <script src="js/achi.js"></script>
        <script type="text/javascript">
            let achi = new Achi("#mycanvas");
            let vs = [
                "#version 300 es // Vertex Shader",
                "",
                "in vec3 coordinates;",
                "out vec3 send_coords;",
                "",
                "void main() {",
                " gl_Position = vec4(coordinates, 1.0);",
                " send_coords = coordinates;",
                "}"
            ].join("\n");

            let fs = [
                "#version 300 es // Fragment Shader",
                "",
                "precision mediump float;",
                "precision mediump int;",
                "",
                "out vec4 color;",
                "in vec3 send_coords;",
                "",
                "void main() {",
                " color = vec4(send_coords.x - 0.75, send_coords.y + 0.75, send_coords.z + 0.25, 1);",
                "}"
            ].join("\n");

            let shader = new AchiShader(achi, vs, fs);

            let show_example = true;
            achi.create( show_example /* true = (Display example), false = (Don't display example)*/);

            let loop = function()
            {
                achi.clear();
                
                // Step 1: Start the Renderer.
                achi.begin();

                shader.begin();

                // Step 2: Render all the objects!
                achi.render();

                shader.end();
                
                // And the final step, shut it down!
                achi.end();
                requestAnimationFrame(loop);
            };
            loop();
        </script>
    </body>
</html>